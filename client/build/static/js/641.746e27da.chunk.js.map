{"version":3,"file":"static/js/641.746e27da.chunk.js","mappings":"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","sources":["pages/Auth/Auth.styles.js","pages/Auth/Signup.jsx"],"sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  width: 100%;\r\n  min-height: 100vh;\r\n  background-color: var(--secondary-background-color);\r\n  color: var(--text-color);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 140px 0 100px;\r\n  @media only screen and (max-width: 650px) {\r\n    padding: 0px;\r\n  }\r\n`;\r\n\r\nexport const Box = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: clamp(250px, 85%, 460px);\r\n  padding: 35px 45px;\r\n  box-shadow: 0px 1px 15px 0px rgba(0, 0, 0, 0.15);\r\n  border-radius: 15px;\r\n  /* margin: 100px 0px 240px; */\r\n\r\n  .auth__title {\r\n    text-align: center;\r\n    margin-bottom: 40px;\r\n    color: var(--secondary-theme-color);\r\n    font-size: clamp(1.4rem, 2.5vw, 1.6rem);\r\n    font-weight: 600;\r\n  }\r\n\r\n  .auth__error {\r\n    width: 100%;\r\n    height: 38px;\r\n    border-radius: 5px;\r\n    border: 1px solid red;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    color: red;\r\n    margin-bottom: 30px;\r\n    font-size: 14.5px;\r\n  }\r\n\r\n  .auth__btn {\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 45px;\r\n    margin-bottom: 32px;\r\n    background: var(--secondary-theme-color);\r\n    border-color: var(--secondary-theme-color);\r\n  }\r\n\r\n  .auth__test-login {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-bottom: 25px;\r\n    height: 25px;\r\n    span {\r\n      font-size: 15.5px;\r\n      cursor: pointer;\r\n      color: var(--secondary-theme-color);\r\n      font-weight: 600;\r\n      margin-right: 5px;\r\n      &:hover {\r\n        text-decoration: underline;\r\n        text-decoration-color: var(--secondary-theme-color);\r\n      }\r\n    }\r\n  }\r\n\r\n  .auth__link {\r\n    text-align: center;\r\n    font-size: 15.5px;\r\n    a {\r\n      font-weight: 600;\r\n      cursor: pointer;\r\n      margin-left: 5px;\r\n      font-size: 1rem;\r\n      color: var(--secondary-theme-color);\r\n    }\r\n  }\r\n\r\n  @media only screen and (max-width: 650px) {\r\n    padding: 50px 0px;\r\n    box-shadow: 0px 1px 15px 0px rgba(0, 0, 0, 0);\r\n  }\r\n`;\r\n\r\nexport const InputBox = styled.div`\r\n  margin-bottom: 25px;\r\n\r\n  .auth__input {\r\n    box-shadow: ${({ selected }) =>\r\n      selected === \"selected\"\r\n        ? \"0px 0px 0px 1px var(--secondary-theme-color)\"\r\n        : \"0px 0px 0px 1px rgba(0, 0, 0, 0.1)\"};\r\n\r\n    border-radius: 5px;\r\n    height: 38px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    input {\r\n      user-select: none;\r\n      outline: none;\r\n      border: none;\r\n      text-indent: 15px;\r\n      font-weight: 500;\r\n      flex: 1;\r\n      height: 38px;\r\n      border-radius: 5px;\r\n      font-size: 15px;\r\n      font-family: \"Montserrat\", sans-serif;\r\n      &::placeholder {\r\n        color: rgba(0, 0, 0, 0.33);\r\n      }\r\n    }\r\n\r\n    div {\r\n      flex-basis: 10%;\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      cursor: pointer;\r\n      svg {\r\n        font-size: 1.1rem;\r\n      }\r\n    }\r\n  }\r\n\r\n  .auth__input-error {\r\n    display: flex;\r\n    align-items: center;\r\n    font-size: 13.5px;\r\n    color: red;\r\n    margin-top: 5px;\r\n\r\n    svg {\r\n      margin-right: 3px;\r\n      font-size: 15px;\r\n    }\r\n  }\r\n`;\r\n","import { useEffect, useState } from \"react\";\r\n\r\n//styles\r\nimport { Container, Box, InputBox } from \"./Auth.styles\";\r\nimport { ButtonFill } from \"../../styles/Main.styles\";\r\n\r\n//firebase\r\nimport { auth, db } from \"../../config/firebaseConfig\";\r\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport { ref, set } from \"firebase/database\";\r\n\r\n//others\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport loader1 from \"../../assets/loader1.gif\";\r\nimport { getInputErrorMsg } from \"../../utils\";\r\nimport { useClickOutside, useViewPassword, useSelect } from \"../../custom-hook\";\r\nimport { useAuth } from \"../../contexts\";\r\n\r\nconst Signup = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  const { user } = useAuth();\r\n\r\n  const [isAuthError, setIsAuthError] = useState(false);\r\n  const [authErrorMsg, setAuthErrorMsg] = useState(false);\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [isloading, setIsloading] = useState(false);\r\n\r\n  //scroll the page to top\r\n  useEffect(() => {\r\n    window.scroll(0, 0);\r\n  }, []);\r\n\r\n  // custom-hook\r\n  //For viewing the password\r\n  const [view, viewObj] = useViewPassword();\r\n  const {\r\n    viewPasswordIcon,\r\n    viewConfirmPasswordIcon,\r\n    togglePassword,\r\n    toggleConfirmPassword,\r\n  } = viewObj;\r\n\r\n  //For highlighting the input border on select\r\n  const [inputBoxes, select] = useSelect();\r\n  const { selectBox, undoSelectedBox } = select;\r\n\r\n  // To undo the input box highlight border when clicked outside\r\n  const nodeRef = useClickOutside(() => {\r\n    undoSelectedBox();\r\n  });\r\n\r\n  //writing profile data to firebase db\r\n  useEffect(() => {\r\n    if (user !== null) {\r\n      (async function () {\r\n        const profileRef = ref(db, `${user.uid}/profile`);\r\n\r\n        try {\r\n          await set(profileRef, { name: userName });\r\n          setIsloading(false);\r\n          navigate(\"/\");\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      })();\r\n    }\r\n  }, [user, userName, navigate]);\r\n\r\n  //signup with firebase auth\r\n  const onSubmit = async (data) => {\r\n    const { email, password, confirmPassword, name } = data;\r\n\r\n    setUserName(name);\r\n\r\n    if (password !== confirmPassword) {\r\n      setIsAuthError(true);\r\n      setAuthErrorMsg(\"Password does not match\");\r\n      return;\r\n    }\r\n\r\n    setIsloading(true);\r\n\r\n    try {\r\n      await createUserWithEmailAndPassword(auth, email, password);\r\n      setIsAuthError(false);\r\n    } catch (error) {\r\n      setIsAuthError(true);\r\n      setAuthErrorMsg(error.message);\r\n    } finally {\r\n      setIsloading(false);\r\n    }\r\n  };\r\n\r\n  //input error styling\r\n  const inputErrorStyle = (type) => {\r\n    return {\r\n      boxShadow: errors[type] && \"0px 0px 0px 1px red\",\r\n    };\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Box>\r\n        <div className=\"auth__title\">Create Your Account</div>\r\n        {isAuthError && <div className=\"auth__error\">{authErrorMsg}</div>}\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <InputBox ref={nodeRef} selected={inputBoxes.name}>\r\n            <div\r\n              className=\"auth__input\"\r\n              onClick={() => selectBox(\"name\")}\r\n              style={inputErrorStyle(\"name\")}\r\n            >\r\n              <input\r\n                type=\"text\"\r\n                {...register(\"name\", { required: true })}\r\n                placeholder=\"Name\"\r\n              />\r\n            </div>\r\n            {errors.name && getInputErrorMsg(\"name\", errors.name?.type)}\r\n          </InputBox>\r\n\r\n          <InputBox ref={nodeRef} selected={inputBoxes.email}>\r\n            <div\r\n              className=\"auth__input\"\r\n              onClick={() => selectBox(\"email\")}\r\n              style={inputErrorStyle(\"email\")}\r\n            >\r\n              <input\r\n                type=\"email\"\r\n                {...register(\"email\", { required: true })}\r\n                placeholder=\"Email\"\r\n              />\r\n            </div>\r\n            {errors.email && getInputErrorMsg(\"email\", errors.name?.type)}\r\n          </InputBox>\r\n\r\n          <InputBox ref={nodeRef} selected={inputBoxes.password}>\r\n            <div\r\n              className=\"auth__input\"\r\n              onClick={() => selectBox(\"password\")}\r\n              style={inputErrorStyle(\"password\")}\r\n            >\r\n              <input\r\n                type={view.password ? \"text\" : \"password\"}\r\n                {...register(\"password\", { required: true, minLength: 6 })}\r\n                placeholder=\"Password\"\r\n              />\r\n              <div onClick={togglePassword}>{viewPasswordIcon}</div>\r\n            </div>\r\n            {errors.password &&\r\n              getInputErrorMsg(\"password\", errors.password?.type)}\r\n          </InputBox>\r\n\r\n          <InputBox ref={nodeRef} selected={inputBoxes.confirmPassword}>\r\n            <div\r\n              className=\"auth__input\"\r\n              onClick={() => selectBox(\"confirmPassword\")}\r\n              style={inputErrorStyle(\"confirmPassword\")}\r\n            >\r\n              <input\r\n                type={view.confirmPassword ? \"text\" : \"password\"}\r\n                {...register(\"confirmPassword\", {\r\n                  required: true,\r\n                  minLength: 6,\r\n                })}\r\n                placeholder=\"Confirm Password\"\r\n              />\r\n              <div onClick={toggleConfirmPassword}>\r\n                {viewConfirmPasswordIcon}\r\n              </div>\r\n            </div>\r\n            {errors.confirmPassword &&\r\n              getInputErrorMsg(\"password\", errors.confirmPassword?.type)}\r\n          </InputBox>\r\n\r\n          <ButtonFill className=\"auth__btn\">\r\n            {isloading ? <img src={loader1} alt=\"\" /> : \"Sign Up\"}\r\n          </ButtonFill>\r\n        </form>\r\n        <div className=\"auth__link\">\r\n          Already have an account ?<Link to={\"/signin\"}>Sign In</Link>\r\n        </div>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n"],"names":["Container","styled","Box","InputBox","selected","navigate","useNavigate","useForm","register","handleSubmit","errors","formState","user","useAuth","useState","isAuthError","setIsAuthError","authErrorMsg","setAuthErrorMsg","userName","setUserName","isloading","setIsloading","useEffect","window","scroll","useViewPassword","view","viewObj","viewPasswordIcon","viewConfirmPasswordIcon","togglePassword","toggleConfirmPassword","useSelect","inputBoxes","select","selectBox","undoSelectedBox","nodeRef","useClickOutside","profileRef","ref","db","uid","set","name","console","log","onSubmit","data","email","password","confirmPassword","createUserWithEmailAndPassword","auth","message","inputErrorStyle","type","boxShadow","className","onClick","style","required","placeholder","getInputErrorMsg","minLength","src","loader1","alt","to"],"sourceRoot":""}